'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&'function'==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?'symbol':typeof obj};function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}(function(){function a(o){return h.parseFromString(o,'text/html').querySelector('body').firstElementChild}function b(o){return o.toString().replace(/[<>'"]/g,function(p){return j[p]})}function d(o){return o=Array.isArray(o)?o.map(function(p){return p.outerHTML||b(p)}).join(''):b(o),o}function f(o){for(var _len=arguments.length,p=Array(1<_len?_len-1:0),_key=1;_key<_len;_key++)p[_key-1]=arguments[_key];var q=[],r=void 0,s=void 0;return r=a(o.map(function(t,u){return void 0===p[u]?s='':p[u].outerHTML?(q.push(p[u]),s='<i id="oat-index-'+(q.length-1)+'"></i>'):s=d(p[u]),t+s}).join('')),q.forEach(function(t,u){var w=r.querySelector('#oat-index-'+u);w.parentNode.replaceChild(t,w)}),r}function g(o,p){for(var q=0;q<o.length;q++)if('object'==_typeof(o[q])||o[q]!==f.component[p].args[q])return!0;return!1}var h=new DOMParser,j={'<':'&lt;','>':'&gt;','"':'&quot;','\'':'&apos;'},k=void 0,l=void 0,m={id:'',children:{},rendered:{}},n=document.querySelector('script#_oat_vm');n=n?JSON.parse(n.innerHTML):{},f.component=function(o,p){function r(){for(var _len2=arguments.length,t=Array(_len2),_key2=0;_key2<_len2;_key2++)t[_key2]=arguments[_key2];var u=q.apply(void 0,t);return m.rendered={},u}var q=2<arguments.length&&void 0!==arguments[2]?arguments[2]:p,s=function s(){for(var _len3=arguments.length,t=Array(_len3),_key3=0;_key3<_len3;_key3++)t[_key3]=arguments[_key3];m.node&&m.node.parentNode&&!m.node.parentNode.isSameNode(k)||(m.node=document.querySelector('[data-oat="'+o+'"]'),k=m.node?m.node.parentNode:m.node),m.rendered[o]=m.rendered[o]||0,m.children[o]=m.children[o]||[];var u=m.id+o+m.rendered[o];return f.component[u]?g(t,u)&&f.component[u](t):function(){var w=function w(){f.component[u]()},x={id:u,node:document.createElement('div'),children:{},rendered:{}},y=m.id,z=Object.create(n);q!==p&&(m.id=u,p(z,w),m.id=y),m.children[o].push(1),m.node.appendChild(x.node),f.component[u]=function(){var A=0<arguments.length&&void 0!==arguments[0]?arguments[0]:t,B=m;m=x,f.event[u]=[];var C=f.component[u].node,D=r.apply(void 0,[z].concat(_toConsumableArray(A)));return C.parentNode.replaceChild(D,C),f.component[u].node=D,f.component[u].args=A,m=B,D},f.component[u].node=x.node,f.component[u].node=f.component[u]()}(),m.rendered[o]++,f.component[u].node};return s.destroy=function(){delete m.node,document.querySelectorAll('[data-oat="'+o+'"]').forEach(function(t){t.innerHTML=''})},s},f.event=function(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){};return function(){for(var _len4=arguments.length,p=Array(_len4),_key4=0;_key4<_len4;_key4++)p[_key4]=arguments[_key4];var q=m.id,r=f.event[q].length;return f.event[q].push(function(s){p.push(s),o.apply(void 0,p),f.component[q]()}),'oat.event[\''+q+'\']['+r+'](event)'}},f.go=function(o){window.history.pushState({},'',o),l()},f.link=function(o,p){var q=f.event(function(r){r.preventDefault(),f.go(o)});return p?'on'+p+'='+q():'href='+o+' onclick='+q()},f.request={href:window.location.href,hostname:window.location.hostname,path:window.location.pathname,hash:window.location.hash.replace('#',''),query:function(){var p={};return window.location.search&&window.location.search.substring(1).split('&').forEach(function(q){var r=q.split('=');p[r[0]]=r[1]}),p}()},f.app=function(o){var p=new Map;o(p),l=function l(){p.forEach(function(q,r){'string'==typeof r&&(r='^'+r+'$');var s=window.location.pathname.match(r);q.destroy(),s&&(s.shift(),f.request.params=s,q())})},l()},window.oatServer=!1,window.oat=f,'undefined'!=typeof module&&module.exports&&(module.exports=f)})();
'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&'function'==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?'symbol':typeof obj};function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}(function(){function a(){p={id:'',children:{},rendered:{}}}function b(s){return l.parseFromString(s,'text/html').querySelector('body').firstElementChild}function d(s){return s.toString().replace(/[<>'"]/g,function(t){return m[t]})}function f(s){return Array.isArray(s)?s=s.map(function(t){return t.outerHTML||d(t)}).join(''):!q&&(s=d(s)),s}function g(s){for(var _len=arguments.length,t=Array(1<_len?_len-1:0),_key=1;_key<_len;_key++)t[_key-1]=arguments[_key];var u=[],w=void 0,x=b(s.map(function(y,z){return void 0===t[z]?w='':t[z].outerHTML?(u.push(t[z]),w='<i id="oat-index-'+(u.length-1)+'"></i>'):w=f(t[z]),y+w}).join(''));return u.forEach(function(y,z){var A=x.querySelector('#oat-index-'+z);A.parentNode.replaceChild(y,A)}),x}function h(s,t){for(var u=0;u<s.length;u++)if('object'==_typeof(s[u])||s[u]!==g.component[t].args[u])return!0;return!1}function j(){var s={};return window.location.search&&window.location.search.substring(1).split('&').forEach(function(t){var u=t.split('=');s[u[0]]=u[1]}),s}function k(){g.request={href:window.location.href,hostname:window.location.hostname,path:window.location.pathname,query:j()}}var l=new DOMParser,m={'<':'&lt;','>':'&gt;','"':'&quot;','\'':'&apos;'},n=void 0,o=void 0,p=void 0,q=void 0,r=document.querySelector('script#_oat_vm');r=r?JSON.parse(r.innerHTML):{},a(),g.trust=function(){for(var _len2=arguments.length,s=Array(_len2),_key2=0;_key2<_len2;_key2++)s[_key2]=arguments[_key2];q=!0;var t=g.apply(void 0,s);return q=!1,t},g.component=function(s,t){var u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:t,w=function w(){for(var _len3=arguments.length,x=Array(_len3),_key3=0;_key3<_len3;_key3++)x[_key3]=arguments[_key3];p.node&&p.node.parentNode&&!p.node.parentNode.isSameNode(n)||(p.node=document.querySelector('[data-oat="'+s+'"]'),n=p.node?p.node.parentNode:p.node),p.rendered[s]=p.rendered[s]||0,p.children[s]=p.children[s]||[];var y=p.id+s+p.rendered[s];return w.id=y,g.component[y]?h(x,y)&&g.component[y](x):function(){var z=function z(){g.component[y]()},A={id:y,node:document.createElement('div'),children:{},rendered:{}},B=p.id,C=Object.create(r);u!==t&&(p.id=y,t(C,z),p.id=B),p.children[s].push(1),p.node.appendChild(A.node),g.component[y]=function(){var D=0<arguments.length&&void 0!==arguments[0]?arguments[0]:x,E=p;p=A,p.rendered={},g.event[y]=[];var F=g.component[y].node,G=u.apply(void 0,[C].concat(_toConsumableArray(D)));return F.parentNode.replaceChild(G,F),g.component[y].node=G,g.component[y].args=D,p=E,G},g.component[y].node=A.node,g.component[y].node=g.component[y]()}(),(p.rendered[s]++,g.component[y].node)};return w.destroy=function(){a(),delete g.component[w.id],document.querySelectorAll('[data-oat="'+s+'"]').forEach(function(x){x.innerHTML=''})},w},g.event=function(){var s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){};return function(){for(var _len4=arguments.length,t=Array(_len4),_key4=0;_key4<_len4;_key4++)t[_key4]=arguments[_key4];var u=p.id,w=g.event[u].length;return g.event[u].push(function(x){t.push(x,x.currentTarget),!1!==s.apply(void 0,t)&&g.component[u]()}),'oat.event[\''+u+'\']['+w+'](event)'}},g.go=function(s){window.history.pushState({},'',s),o()},g.link=function(s,t){var u=g.event(function(w){w.preventDefault(),g.go(s)});return t?'on'+t+'='+u():'href='+s+' onclick='+u()},g.app=function(s){var t=new Map;s(t),o=function o(){k(),t.forEach(function(u,w){'string'==typeof w&&(w='^'+w+'$');var x=window.location.pathname.match(w);u.destroy(),x&&(x.shift(),g.request.params=x,u())})},o()},window.oatServer=!1,window.oat=g,'undefined'!=typeof module&&module.exports&&(module.exports=g)})();